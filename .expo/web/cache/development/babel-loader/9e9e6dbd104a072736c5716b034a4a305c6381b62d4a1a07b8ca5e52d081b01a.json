{"ast":null,"code":"export function base64toBlob(base64Data, contentType) {\n  contentType = contentType || '';\n  const sliceSize = 1024;\n  const byteCharacters = atob(base64Data);\n  const bytesLength = byteCharacters.length;\n  const slicesCount = Math.ceil(bytesLength / sliceSize);\n  const byteArrays = new Array(slicesCount);\n  for (let sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n    const begin = sliceIndex * sliceSize;\n    const end = Math.min(begin + sliceSize, bytesLength);\n    const bytes = new Array(end - begin);\n    for (let offset = begin, i = 0; offset < end; ++i, ++offset) {\n      bytes[i] = byteCharacters[offset].charCodeAt(0);\n    }\n    byteArrays[sliceIndex] = new Uint8Array(bytes);\n  }\n  return new Blob(byteArrays, {\n    type: contentType\n  });\n}\nexport function blobToBase64Async(blob) {\n  return new Promise((resolve, _) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.readAsDataURL(blob);\n  });\n}\nexport function htmlToPlainText(html) {\n  const tempDivElement = document.createElement('div');\n  tempDivElement.innerHTML = html;\n  return tempDivElement.textContent || tempDivElement.innerText || '';\n}\nexport function getImageSizeFromBlobAsync(blob) {\n  return new Promise((resolve, _) => {\n    const blobUrl = URL.createObjectURL(blob);\n    const img = document.createElement('img');\n    img.src = blobUrl;\n    img.onload = function () {\n      resolve({\n        width: img.width,\n        height: img.height\n      });\n    };\n  });\n}\nexport async function findImageInClipboardAsync(items) {\n  for (const clipboardItem of items) {\n    if (clipboardItem.types.some(type => type === 'image/png')) {\n      return await clipboardItem.getType('image/png');\n    }\n    if (clipboardItem.types.some(type => type === 'image/jpeg')) {\n      return await clipboardItem.getType('image/jpeg');\n    }\n  }\n  return null;\n}\nexport async function findHtmlInClipboardAsync(items) {\n  for (const clipboardItem of items) {\n    if (clipboardItem.types.some(type => type === 'text/html')) {\n      return await clipboardItem.getType('text/html');\n    }\n  }\n  return null;\n}\nexport async function isClipboardPermissionDeniedAsync() {\n  const queryOpts = {\n    name: 'clipboard-read'\n  };\n  const permissionStatus = await navigator.permissions.query(queryOpts);\n  return permissionStatus.state === 'denied';\n}","map":{"version":3,"names":["base64toBlob","base64Data","contentType","sliceSize","byteCharacters","atob","bytesLength","length","slicesCount","Math","ceil","byteArrays","Array","sliceIndex","begin","end","min","bytes","offset","i","charCodeAt","Uint8Array","Blob","type","blobToBase64Async","blob","Promise","resolve","_","reader","FileReader","onloadend","result","readAsDataURL","htmlToPlainText","html","tempDivElement","document","createElement","innerHTML","textContent","innerText","getImageSizeFromBlobAsync","blobUrl","URL","createObjectURL","img","src","onload","width","height","findImageInClipboardAsync","items","clipboardItem","types","some","getType","findHtmlInClipboardAsync","isClipboardPermissionDeniedAsync","queryOpts","name","permissionStatus","navigator","permissions","query","state"],"sources":["/Users/recep/Gym/node_modules/expo-clipboard/src/web/Utils.ts"],"sourcesContent":["/**\n * Converts base64-encoded data to a `Blob` object.\n * @see https://stackoverflow.com/a/20151856\n */\nexport function base64toBlob(base64Data: string, contentType: string): Blob {\n  contentType = contentType || '';\n  const sliceSize = 1024;\n  const byteCharacters = atob(base64Data);\n  const bytesLength = byteCharacters.length;\n  const slicesCount = Math.ceil(bytesLength / sliceSize);\n  const byteArrays = new Array(slicesCount);\n\n  for (let sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n    const begin = sliceIndex * sliceSize;\n    const end = Math.min(begin + sliceSize, bytesLength);\n\n    const bytes = new Array(end - begin);\n    for (let offset = begin, i = 0; offset < end; ++i, ++offset) {\n      bytes[i] = byteCharacters[offset].charCodeAt(0);\n    }\n    byteArrays[sliceIndex] = new Uint8Array(bytes);\n  }\n  // I cannot use `@ts-expect-error` here because some environments consider this correct:\n  // expo-module build - OK,\n  // expo-module test - error\n  // @ts-ignore `Blob` from `lib.dom.d.ts` and the one from `@types/react-native` differ somehow\n  return new Blob(byteArrays, { type: contentType });\n}\n\n/**\n * Converts blob to base64-encoded string with Data-URL prefix.\n */\nexport function blobToBase64Async(blob: Blob): Promise<string> {\n  return new Promise((resolve, _) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result as string);\n    reader.readAsDataURL(blob);\n  });\n}\n\nexport function htmlToPlainText(html: string) {\n  const tempDivElement = document.createElement('div');\n  tempDivElement.innerHTML = html;\n  return tempDivElement.textContent || tempDivElement.innerText || '';\n}\n\nexport function getImageSizeFromBlobAsync(blob: Blob): Promise<{ width: number; height: number }> {\n  return new Promise((resolve, _) => {\n    const blobUrl = URL.createObjectURL(blob);\n    const img = document.createElement('img');\n    img.src = blobUrl;\n    img.onload = function () {\n      resolve({ width: img.width, height: img.height });\n    };\n  });\n}\n\nexport async function findImageInClipboardAsync(items: ClipboardItems): Promise<Blob | null> {\n  for (const clipboardItem of items) {\n    // first look for png\n    if (clipboardItem.types.some((type) => type === 'image/png')) {\n      return await clipboardItem.getType('image/png');\n    }\n\n    // alternatively, an image might be a jpeg\n    // NOTE: Currently, this is not supported by browsers yet. They only support PNG now\n    if (clipboardItem.types.some((type) => type === 'image/jpeg')) {\n      return await clipboardItem.getType('image/jpeg');\n    }\n  }\n  return null;\n}\n\nexport async function findHtmlInClipboardAsync(items: ClipboardItems): Promise<Blob | null> {\n  for (const clipboardItem of items) {\n    if (clipboardItem.types.some((type) => type === 'text/html')) {\n      return await clipboardItem.getType('text/html');\n    }\n  }\n  return null;\n}\n\nexport async function isClipboardPermissionDeniedAsync(): Promise<boolean> {\n  const queryOpts = { name: 'clipboard-read' as PermissionName };\n  const permissionStatus = await navigator.permissions.query(queryOpts);\n  return permissionStatus.state === 'denied';\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}